<!doctype html><html><head><meta charset="UTF-8"><meta content="minimum-scale=1.0, width=device-width" name="viewport"><meta name="description" content="Osagai Top-Level API"><title>osagai - Osagai</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto+Mono"><link rel="icon" type="image/png" sizes="32x32" href="/osagai/images/favicon.png" /><!-- inject:css --><link rel="stylesheet" href="/osagai/vendor/icon-16/icon-16.css"><link rel="stylesheet" href="/osagai/vendor/senna/senna.css"><link rel="stylesheet" href="/osagai/vendor/icon-12/icon-12.css"><link rel="stylesheet" href="/osagai/vendor/galano/galano.css"><link rel="stylesheet" href="/osagai/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/osagai/vendor/codemirror/theme/dracula.css"><!-- endinject --><!-- inject:js --><script src="/osagai/js/bundles/shared.electric.js"></script><script src="/osagai/vendor/senna/senna.js"></script><script src="/osagai/vendor/codemirror/lib/codemirror.js"></script><script src="/osagai/vendor/codemirror/mode/css/css.js"></script><script src="/osagai/vendor/codemirror/mode/javascript/javascript.js"></script><script src="/osagai/vendor/codemirror/mode/shell/shell.js"></script><script src="/osagai/vendor/codemirror/mode/xml/xml.js"></script><!-- endinject --><link rel="stylesheet" href="/osagai/styles/main.css"></head><body data-senna><div data-senna-surface id="wrapper"><div class="senna-loading-bar"></div><!-- inject:metal:js --><div id="pageComponent"><div class="main"><main class="guide"><div class="docs"><nav class="topbar topbar-light topbar-docs"><div class="topbar-logo"><a class="topbar-logo-link" href="/osagai"><h3 class="topbar-logo-text">üÄÑÔ∏è Osagai</h3></a></div><nav class="topbar-menu"><button class="topbar-toggle">Menu</button><ul class="topbar-list"><li class="topbar-item"><a class="topbar-link topbar-link-selected" href="/osagai/docs/" target="undefined"><span>Docs</span></a></li></ul></nav></nav><nav class="sidebar"><a class="sidebar-header toggler-header-collapsed"><span class="sidebar-icon icon-16-menu"></span><span>Docs Menu</span><span class="sidebar-icon-right"><span class="icon-12-arrow-down-short"></span><span class="icon-12-arrow-up-short"></span></span></a><div class="sidebar-toggler-content toggler-collapsed"><div class="sidebar-search"><div class="page-autocomplete"><div class="form-group"><div class="input-inner-addon input-inner-addon-right"><input autocomplete="off" class="form-control" name="q" placeholder="Search Docs" ref="input" required type="text" ><span class="input-inner-icon-helper icon-16-magnifier"></span></div></div></div></div><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/osagai/docs/getting-started/"><span class="sidebar-icon icon-16-arrow-right-rod"></span><span>Getting Started</span></a></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/osagai/docs/api-reference/"><span class="sidebar-icon icon-16-code-file"></span><span>API reference</span></a><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/osagai/docs/api-reference/osagai/"><span>osagai</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/osagai/docs/api-reference/dom/"><span>dom</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/osagai/docs/api-reference/events/"><span>events</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/osagai/docs/api-reference/lifecycles/"><span>lifecycles</span></a></li></ul></nav></li></ul></nav></div></nav><div class="sidebar-offset"><header class="guide-header"><div class="container-hybrid"><h1 class="title">osagai</h1></div></header><div class="container-hybrid"><div class="docs-guide row"><div class="docs-content col-xs-16 col-md-9"><div class="guide-content"><article id="overview"><h2>Overview</h2><h3>Define custom elements</h3><p>Osagai let you define your <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements" target="_blank">custom elements</a> in a functional way, making than reusable and think about the separation of the component logic from the view. Custom elements can be defined using the <a href="#define"><code>define</code></a> function, passing the name of the component with the <code>Component</code> function</p><h4>Component function</h4><p>Osagai Components are functions that will define your custom element. They need to return a <code>Template</code> function and can be used to add the logic of your custom element. Like adding event listeners, making api calls or initialize variables. Osagai will pass useful arguments to the Component like the <code>element</code> reference and methods like <code>query</code> and <code>queryAll</code> that you can use to query elements in the element DOM tree. Both methods return a promise resolving the value as the element that match the query.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">function Component({element, query, queryAll}) {
  /* ‚ú® Some magic here ‚ú® */
  return () =&gt; `&lt;h1&gt;Hello&lt;/h1&gt;`
}</code></pre></div><h4>Template function</h4><p>The template function is what will define the layout of your custom element and it will be executed during the <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements#Using_the_lifecycle_callbacks" target="_blank">connectedCallback</a> lifecycle. The interface of the <code>Template</code> function is simple, it needs to return a string that will define the layout of the custom element:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">function Template() {
  return &#39;&lt;h1&gt;Hello&lt;/h1&gt;&#39;
}</code></pre></div><p>If your components doesn't need a layout (Renderless component), you do not need to return a string, just execute your logic inside this function.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">function RenderlessTemplate() {
  window.addEventListener(&#39;resize&#39;, runSomething)
}</code></pre></div><p>Osagai will pass as argument of the <code>Template</code> function the data needed for your layout. This is usually changed with the <code>update</code> function of the <code>osagai/dom</code> module.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const initialData = {name: &#39;world&#39;}

function Template(data = initialData) {
  return `&lt;h1&gt;Hello ${data.name}&lt;/h1&gt;`
}</code></pre></div><h4>Custom renderer</h4><p>Osagai consider the template of the custom element as string. Initialization and updates of the element are all based of strings, it uses <code>innerHTML</code> for the initialization and <a href="https://github.com/patrick-steele-idem/morphdom">morphdom</a> for the updates. But if you want to have a custom initialization and update, you can use the <code>renderer</code> option on the definition of the custom element. This is a function that receives the <code>element</code> and the <code>template</code> result with the current data. For example, you could use <a href="https://lit-html.polymer-project.org/">lit-html</a> for manipulating the DOM in this way:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">import { define } from &#39;osagai&#39;
import { render, html } from &#39;lit-html&#39;;

function renderer(element, template) {
  render(template, element);
}

function LitComponent() {
  return () =&gt; html`&lt;h1&gt;Hello&lt;/h1&gt;`;
}

define(&#39;lit-component&#39;, LitComponent, { renderer });</code></pre></div></article><hr /><h2>Reference</h2><article id="define"><h2>define</h2><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">define(name, Component[, options])</code></pre></div><p>Defines a new custom element.</p><h5>Parameters</h5><h6>name</h6><p>Name for the new custom element. Note that custom element names must contain a hyphen (ex. <code>hello-world</code>)</p><h6>Component</h6><p>Component is the function that will return a Template function that defines the layout of your custom element. Here you can run the logic of the component, like making api calls or add event listeners of the component elements</p><h6>options <code>Optional</code></h6><ul><li><strong>BaseElement</strong>: element constructor that the component will extend. (Default <code>HTMLElement</code>)</li><li><strong>observeAttributes</strong>: array of strings with the attributes to observe and run <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements#Using_the_lifecycle_callbacks" target="_blank">attributeChangedCallback</a></li><li><strong>renderer</strong>: Custom renderer function to use during the render process. The function has two arguments <code>element</code> and <code>template</code>. Where <code>element</code> is the element reference and <code>template</code> is the result of the <code>Template</code> function with the current data.</li><li><strong>...customElementOptions</strong>: All the other are options defined by the custom element spec (<a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/define#Parameters" target="_blank">MDN link</a>).</li></ul></article><hr /><input type="hidden" value="osagai"><input type="hidden" value="Osagai"></div><div class="contribute"><div class="contribute-img"><span class="icon-16-github"></span></div><div class="contribute-text"><p>Contribute on Github! <a href="https://github.com/HenriqueLimas/osagai/src/pages/docs/api-reference/osagai/index.md" class="contribute-link" target="_blank">Edit this section</a>.</p></div></div></div><nav class="col-xs-16 col-md-offset-2 col-md-5"><div class="docs-nav-container"><div class="affix-top docs-nav"><div ref="readingContainer"></div></div></div></nav></div></div></div></div></main></div></div><script src="/osagai/js/bundles/oeSht.js"></script><script>var data = JSON.parse('{\x22pageLocation\x22:\x22index.children.docs.children.api-reference.children.osagai\x22,\x22site\x22:{\x22title\x22:\x22Osagai\x22,\x22logo\x22:\x22üÄÑÔ∏è\x22,\x22githubRepo\x22:\x22HenriqueLimas\/osagai\x22,\x22googleAnalytics\x22:\x22UA-37033501-5\x22,\x22index\x22:{\x22title\x22:\x22Home\x22,\x22description\x22:\x22Create WebComponents with no class, just functions\x22,\x22srcFilePath\x22:\x22src\/pages\/index.soy\x22,\x22id\x22:\x22pages\x22,\x22location\x22:\x22\/.\/\x22,\x22url\x22:\x22\/osagai\/.\/\x22,\x22children\x22:{\x22docs\x22:{\x22title\x22:\x22Docs\x22,\x22description\x22:\x22Everything you need to know to get started.\x22,\x22srcFilePath\x22:\x22src\/pages\/docs\/index.soy\x22,\x22id\x22:\x22docs\x22,\x22location\x22:\x22\/docs\/\x22,\x22url\x22:\x22\/osagai\/docs\/\x22,\x22children\x22:{\x22search\x22:{\x22title\x22:\x22Search\x22,\x22description\x22:\x22Find what you\x27re looking for in the documentation.\x22,\x22hidden\x22:true,\x22srcFilePath\x22:\x22src\/pages\/docs\/search.soy\x22,\x22id\x22:\x22search\x22,\x22location\x22:\x22\/docs\/search.html\x22,\x22url\x22:\x22\/osagai\/docs\/search.html\x22},\x22api-reference\x22:{\x22description\x22:\x22API reference\x22,\x22icon\x22:\x22code-file\x22,\x22layout\x22:\x22guide\x22,\x22title\x22:\x22API reference\x22,\x22weight\x22:2,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/index.md\x22,\x22id\x22:\x22api-reference\x22,\x22location\x22:\x22\/docs\/api-reference\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/\x22,\x22children\x22:{\x22dom\x22:{\x22title\x22:\x22dom\x22,\x22description\x22:\x22Osagai dom\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:2,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/dom\/index.md\x22,\x22id\x22:\x22dom\x22,\x22location\x22:\x22\/docs\/api-reference\/dom\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/dom\/\x22},\x22events\x22:{\x22title\x22:\x22events\x22,\x22description\x22:\x22Osagai events\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:3,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/events\/index.md\x22,\x22id\x22:\x22events\x22,\x22location\x22:\x22\/docs\/api-reference\/events\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/events\/\x22},\x22lifecycles\x22:{\x22title\x22:\x22lifecycles\x22,\x22description\x22:\x22Osagai lifecycles\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:3,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/lifecycles\/index.md\x22,\x22id\x22:\x22lifecycles\x22,\x22location\x22:\x22\/docs\/api-reference\/lifecycles\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/lifecycles\/\x22},\x22osagai\x22:{\x22title\x22:\x22osagai\x22,\x22description\x22:\x22Osagai Top-Level API\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:1,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/osagai\/index.md\x22,\x22id\x22:\x22osagai\x22,\x22location\x22:\x22\/docs\/api-reference\/osagai\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/osagai\/\x22,\x22active\x22:true}},\x22childIds\x22:[\x22osagai\x22,\x22dom\x22,\x22events\x22,\x22lifecycles\x22],\x22active\x22:true},\x22getting-started\x22:{\x22description\x22:\x22Getting started with a Osagai.\x22,\x22icon\x22:\x22arrow-right-rod\x22,\x22layout\x22:\x22guide\x22,\x22title\x22:\x22Getting Started\x22,\x22weight\x22:1,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started\/index.md\x22,\x22id\x22:\x22getting-started\x22,\x22location\x22:\x22\/docs\/getting-started\/\x22,\x22url\x22:\x22\/osagai\/docs\/getting-started\/\x22}},\x22childIds\x22:[\x22getting-started\x22,\x22api-reference\x22,\x22search\x22],\x22active\x22:true}},\x22childIds\x22:[\x22docs\x22]},\x22basePath\x22:\x22\/osagai\x22,\x22topbar\x22:[{\x22href\x22:\x22\/osagai\/docs\/\x22,\x22label\x22:\x22Docs\x22,\x22selected\x22:true}]}}'); if (window.electricPageComponent) {window.electricPageComponent.dispose();}var getByPath = function(obj, path) {path = path.split('.'); for (var i = 0; i < path.length; i++) {obj = obj[path[i]];}; return obj;}; if (window.pageComponent) {var page = getByPath(data.site, data.pageLocation); if (page) {window.electricPageComponent = pageComponent.default.render(pageComponent.default, {element: '#pageComponent > *', page: page, site: data.site});}if (window.runCodeMirror) {runCodeMirror();}}</script><!-- endinject --></div><!-- inject:vendor:js --><script>CodeMirror.defaults.lineNumbers = true; CodeMirror.defaults.matchBrackets = true; CodeMirror.defaults.readOnly = true; CodeMirror.defaults.tabindex = -1; CodeMirror.defaults.tabSize = 2; CodeMirror.defaults.theme = 'dracula'; CodeMirror.defaults.viewportMargin = Infinity; var REGEX_LB = /&#123;/g; var REGEX_RB = /&#125;/g; function runCodeMirror() {var code = document.querySelectorAll('.code'); for (var i = 0; i < code.length; i++) {var text = code[i].innerText .replace(REGEX_LB, '{') .replace(REGEX_RB, '}'); var editor = CodeMirror(function(elt) {var preEl = code[i].parentNode; preEl.parentNode.appendChild(elt);}, {mode: code[i].getAttribute('data-mode') || '', value: text});}if (window.ElectricCodeTabs) {new window.ElectricCodeTabs();}}runCodeMirror(); function runGoogleAnalytics(path) {if (typeof ga === 'function') {ga('set', 'page', path); ga('send', 'pageview');}}document.addEventListener('DOMContentLoaded', function() {if (typeof senna !== 'undefined') {var app = senna.dataAttributeHandler.getApp(); app.on('endNavigate', function(event) {runGoogleAnalytics(event.path);});}}); (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-37033501-5', 'auto'); ga('send', 'pageview');</script><!-- endinject --></body></html>