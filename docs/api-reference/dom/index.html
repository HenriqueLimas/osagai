<!doctype html><html><head><meta charset="UTF-8"><meta content="minimum-scale=1.0, width=device-width" name="viewport"><meta name="description" content="Osagai dom"><title>dom - Osagai</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto+Mono"><link rel="icon" type="image/png" sizes="32x32" href="/osagai/images/favicon.png" /><!-- inject:css --><link rel="stylesheet" href="/osagai/vendor/galano/galano.css"><link rel="stylesheet" href="/osagai/vendor/icon-12/icon-12.css"><link rel="stylesheet" href="/osagai/vendor/senna/senna.css"><link rel="stylesheet" href="/osagai/vendor/icon-16/icon-16.css"><link rel="stylesheet" href="/osagai/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/osagai/vendor/codemirror/theme/dracula.css"><!-- endinject --><!-- inject:js --><script src="/osagai/js/bundles/shared.electric.js"></script><script src="/osagai/vendor/senna/senna.js"></script><script src="/osagai/vendor/codemirror/lib/codemirror.js"></script><script src="/osagai/vendor/codemirror/mode/css/css.js"></script><script src="/osagai/vendor/codemirror/mode/javascript/javascript.js"></script><script src="/osagai/vendor/codemirror/mode/shell/shell.js"></script><script src="/osagai/vendor/codemirror/mode/xml/xml.js"></script><!-- endinject --><link rel="stylesheet" href="/osagai/styles/main.css"></head><body data-senna><div data-senna-surface id="wrapper"><div class="senna-loading-bar"></div><!-- inject:metal:js --><div id="pageComponent"><div class="main"><main class="guide"><div class="docs"><nav class="topbar topbar-light topbar-docs"><div class="topbar-logo"><a class="topbar-logo-link" href="/osagai"><h3 class="topbar-logo-text">üÄÑÔ∏è Osagai</h3></a></div><nav class="topbar-menu"><button class="topbar-toggle">Menu</button><ul class="topbar-list"><li class="topbar-item"><a class="topbar-link topbar-link-selected" href="/osagai/docs/" target="undefined"><span>Docs</span></a></li></ul></nav></nav><nav class="sidebar"><a class="sidebar-header toggler-header-collapsed"><span class="sidebar-icon icon-16-menu"></span><span>Docs Menu</span><span class="sidebar-icon-right"><span class="icon-12-arrow-down-short"></span><span class="icon-12-arrow-up-short"></span></span></a><div class="sidebar-toggler-content toggler-collapsed"><div class="sidebar-search"><div class="page-autocomplete"><div class="form-group"><div class="input-inner-addon input-inner-addon-right"><input autocomplete="off" class="form-control" name="q" placeholder="Search Docs" ref="input" required type="text" ><span class="input-inner-icon-helper icon-16-magnifier"></span></div></div></div></div><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/osagai/docs/getting-started/"><span class="sidebar-icon icon-16-arrow-right-rod"></span><span>Getting Started</span></a></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/osagai/docs/api-reference/"><span class="sidebar-icon icon-16-code-file"></span><span>API reference</span></a><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/osagai/docs/api-reference/osagai/"><span>osagai</span></a></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/osagai/docs/api-reference/dom/"><span>dom</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/osagai/docs/api-reference/events/"><span>events</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/osagai/docs/api-reference/lifecycles/"><span>lifecycles</span></a></li></ul></nav></li></ul></nav></div></nav><div class="sidebar-offset"><header class="guide-header"><div class="container-hybrid"><h1 class="title">dom</h1></div></header><div class="container-hybrid"><div class="docs-guide row"><div class="docs-content col-xs-16 col-md-9"><div class="guide-content"><article id="overview"><h2>Overview</h2><p>The <code>osagai/dom</code> module has functions responsible for manipulating the DOM tree of the custom element. Use this module if your custom element will need to update the data and efficiently update the DOM.</p><ul><li><a href="#update"><code>update</code></a></li></ul><h3>Update DOM elements</h3><p>Usually, our components needs to be updated reflecting the data passed in the <code>Template</code>function into the DOM. This could not be so performant if we always use <code>innerHTML</code>for reflecting the template defined. For that reason, <code>osagai</code> use a library called<a href="https://github.com/patrick-steele-idem/morphdom"><code>morphdom</code></a> that change only the elements in the DOM that differentiate from the previous state. Note: If you use a custom<code>renderer</code> in the <code>define</code> function, the <code>update</code> function will use that custom renderer instead of <code>mophdom</code>.</p></article><hr /><h2>Reference</h2><article id="update"><h2>update</h2><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">update(element, dataChanger) =&gt; Promise(newData)</code></pre></div><p>Updates the data of the Component, scheduling a new change in the DOM using the renderer (default to <code>morphdom</code>) and return a promise with the new data returned by the <code>dataChanger</code>.</p><h5>Parameters</h5><h6>element</h6><p>Instance of the osagai element</p><h6>dataChanger</h6><p>Function that receive as parameter the data that needs to be changed and needs to return the new data. This could also be a promise that will be resolved by the <code>update</code> function.</p><h5>Example</h5><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">update(element, (data = {}) =&gt; {
  data.changed = true
  return data
})</code></pre></div><h6>Async function</h6><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">update(element, async (data = {}) =&gt; {
  const items = await api.getItems()
  data.items = items
  return data
})</code></pre></div></article><input type="hidden" value="dom"><input type="hidden" value="Osagai"></div><div class="contribute"><div class="contribute-img"><span class="icon-16-github"></span></div><div class="contribute-text"><p>Contribute on Github! <a href="https://github.com/HenriqueLimas/osagai/tree/master/docs/src/pages/docs/api-reference/dom/index.md" class="contribute-link" target="_blank">Edit this section</a>.</p></div></div></div><nav class="col-xs-16 col-md-offset-2 col-md-5"><div class="docs-nav-container"><div class="affix-top docs-nav"><div ref="readingContainer"></div></div></div></nav></div></div></div></div></main></div></div><script src="/osagai/js/bundles/gjPyE.js"></script><script>var data = JSON.parse('{\x22pageLocation\x22:\x22index.children.docs.children.api-reference.children.dom\x22,\x22site\x22:{\x22title\x22:\x22Osagai\x22,\x22logo\x22:\x22üÄÑÔ∏è\x22,\x22githubRepo\x22:\x22HenriqueLimas\/osagai\x22,\x22googleAnalytics\x22:\x22UA-131796214-1\x22,\x22index\x22:{\x22title\x22:\x22Home\x22,\x22description\x22:\x22Create WebComponents with no class, just functions\x22,\x22srcFilePath\x22:\x22src\/pages\/index.soy\x22,\x22id\x22:\x22pages\x22,\x22location\x22:\x22\/.\/\x22,\x22url\x22:\x22\/osagai\/.\/\x22,\x22children\x22:{\x22docs\x22:{\x22title\x22:\x22Docs\x22,\x22description\x22:\x22Everything you need to know to get started.\x22,\x22srcFilePath\x22:\x22src\/pages\/docs\/index.soy\x22,\x22id\x22:\x22docs\x22,\x22location\x22:\x22\/docs\/\x22,\x22url\x22:\x22\/osagai\/docs\/\x22,\x22children\x22:{\x22search\x22:{\x22title\x22:\x22Search\x22,\x22description\x22:\x22Find what you\x27re looking for in the documentation.\x22,\x22hidden\x22:true,\x22srcFilePath\x22:\x22src\/pages\/docs\/search.soy\x22,\x22id\x22:\x22search\x22,\x22location\x22:\x22\/docs\/search.html\x22,\x22url\x22:\x22\/osagai\/docs\/search.html\x22},\x22getting-started\x22:{\x22description\x22:\x22Getting started with a Osagai.\x22,\x22icon\x22:\x22arrow-right-rod\x22,\x22layout\x22:\x22guide\x22,\x22title\x22:\x22Getting Started\x22,\x22weight\x22:1,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started\/index.md\x22,\x22id\x22:\x22getting-started\x22,\x22location\x22:\x22\/docs\/getting-started\/\x22,\x22url\x22:\x22\/osagai\/docs\/getting-started\/\x22},\x22api-reference\x22:{\x22description\x22:\x22API reference\x22,\x22icon\x22:\x22code-file\x22,\x22layout\x22:\x22guide\x22,\x22title\x22:\x22API reference\x22,\x22weight\x22:2,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/index.md\x22,\x22id\x22:\x22api-reference\x22,\x22location\x22:\x22\/docs\/api-reference\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/\x22,\x22children\x22:{\x22dom\x22:{\x22title\x22:\x22dom\x22,\x22description\x22:\x22Osagai dom\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:2,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/dom\/index.md\x22,\x22id\x22:\x22dom\x22,\x22location\x22:\x22\/docs\/api-reference\/dom\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/dom\/\x22,\x22active\x22:true},\x22events\x22:{\x22title\x22:\x22events\x22,\x22description\x22:\x22Osagai events\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:3,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/events\/index.md\x22,\x22id\x22:\x22events\x22,\x22location\x22:\x22\/docs\/api-reference\/events\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/events\/\x22},\x22lifecycles\x22:{\x22title\x22:\x22lifecycles\x22,\x22description\x22:\x22Osagai lifecycles\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:3,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/lifecycles\/index.md\x22,\x22id\x22:\x22lifecycles\x22,\x22location\x22:\x22\/docs\/api-reference\/lifecycles\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/lifecycles\/\x22},\x22osagai\x22:{\x22title\x22:\x22osagai\x22,\x22description\x22:\x22Osagai Top-Level API\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:1,\x22srcFilePath\x22:\x22src\/pages\/docs\/api-reference\/osagai\/index.md\x22,\x22id\x22:\x22osagai\x22,\x22location\x22:\x22\/docs\/api-reference\/osagai\/\x22,\x22url\x22:\x22\/osagai\/docs\/api-reference\/osagai\/\x22}},\x22childIds\x22:[\x22osagai\x22,\x22dom\x22,\x22events\x22,\x22lifecycles\x22],\x22active\x22:true}},\x22childIds\x22:[\x22getting-started\x22,\x22api-reference\x22,\x22search\x22],\x22active\x22:true}},\x22childIds\x22:[\x22docs\x22]},\x22basePath\x22:\x22\/osagai\x22,\x22topbar\x22:[{\x22href\x22:\x22\/osagai\/docs\/\x22,\x22label\x22:\x22Docs\x22,\x22selected\x22:true}]}}'); if (window.electricPageComponent) {window.electricPageComponent.dispose();}var getByPath = function(obj, path) {path = path.split('.'); for (var i = 0; i < path.length; i++) {obj = obj[path[i]];}; return obj;}; if (window.pageComponent) {var page = getByPath(data.site, data.pageLocation); if (page) {window.electricPageComponent = pageComponent.default.render(pageComponent.default, {element: '#pageComponent > *', page: page, site: data.site});}if (window.runCodeMirror) {runCodeMirror();}}</script><!-- endinject --></div><!-- inject:vendor:js --><script>CodeMirror.defaults.lineNumbers = true; CodeMirror.defaults.matchBrackets = true; CodeMirror.defaults.readOnly = true; CodeMirror.defaults.tabindex = -1; CodeMirror.defaults.tabSize = 2; CodeMirror.defaults.theme = 'dracula'; CodeMirror.defaults.viewportMargin = Infinity; var REGEX_LB = /&#123;/g; var REGEX_RB = /&#125;/g; function runCodeMirror() {var code = document.querySelectorAll('.code'); for (var i = 0; i < code.length; i++) {var text = code[i].innerText .replace(REGEX_LB, '{') .replace(REGEX_RB, '}'); var editor = CodeMirror(function(elt) {var preEl = code[i].parentNode; preEl.parentNode.appendChild(elt);}, {mode: code[i].getAttribute('data-mode') || '', value: text});}if (window.ElectricCodeTabs) {new window.ElectricCodeTabs();}}runCodeMirror(); function runGoogleAnalytics(path) {if (typeof ga === 'function') {ga('set', 'page', path); ga('send', 'pageview');}}document.addEventListener('DOMContentLoaded', function() {if (typeof senna !== 'undefined') {var app = senna.dataAttributeHandler.getApp(); app.on('endNavigate', function(event) {runGoogleAnalytics(event.path);});}}); (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-131796214-1', 'auto'); ga('send', 'pageview');</script><!-- endinject --></body></html>